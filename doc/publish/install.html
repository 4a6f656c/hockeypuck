
<!DOCTYPE html>
<html>
  <head>
    <title>Hockeypuck User Guide</title>
    <link type="text/css" rel="stylesheet" href="static/article.css">
    <meta charset='utf-8'>
  </head>

  <body>
    <div id="topbar" class="wide">
      <div class="container">
        <div id="heading">Hockeypuck User Guide
          Installation and Setup
        </div>
      </div>
    </div>
    <div id="page" class="wide">
      <div class="container">
        
          <div id="toc">
            
  <ul>
  
    <li><a href="#TOC_1.">Installing on Ubuntu Raring 13.04</a></li>
    
  
    <li><a href="#TOC_2.">Installing a binary build</a></li>
    
  <ul>
  
    <li><a href="#TOC_2.1.">Obtaining binary tarballs</a></li>
    
  
    <li><a href="#TOC_2.2.">Installing from a binary tarball</a></li>
    
  
  </ul>

  
    <li><a href="#TOC_3.">Installing from source</a></li>
    
  <ul>
  
    <li><a href="#TOC_3.1.">Install the Prereqs</a></li>
    
  
    <li><a href="#TOC_3.2.">Install the Hockeypuck HKP server</a></li>
    
  
    <li><a href="#TOC_3.3.">Install the Hockeypuck loader utility</a></li>
    
  
  </ul>

  
    <li><a href="#TOC_4.">Running from source (or a non-standard installation)</a></li>
    
  
  </ul>

          </div>
        

        
          
  <h1 id="TOC_1.">1. Installing on Ubuntu Raring 13.04</h1>
  
  
  <p>
    Hockeypuck is available in the Ubuntu Raring repository. Install with:
  </p>
  

  
  <p>
    $ apt-get install hockeypuck
  </p>
  

  
  <p>
    This will also install mongodb-server as a dependency.
  </p>
  


        
          
  <h1 id="TOC_2.">2. Installing a binary build</h1>
  
  <h2 id="TOC_2.1.">2.1. Obtaining binary tarballs</h2>
  
  
  <p>
    Hockeypuck also distributes tarball binary builds for the following platforms:
  </p>
  

  <ul>
  
    <li>Linux x86</li>
  
    <li>Linux x86-64</li>
  
    <li>FreeBSD x86</li>
  
    <li>FreeBSD x86-64</li>
  
    <li>Darwin (Mac OS X) x86</li>
  
    <li>Darwin (Mac OS X) x86-64</li>
  
  </ul>

  
  <p>
    These may be obtained from the Hockeypuck project page at https://launchpad.net/hockeypuck.
  </p>
  


  <h2 id="TOC_2.2.">2.2. Installing from a binary tarball</h2>
  
  
  <p>
    The archived binary build contains the same files that would typically be installed by the Debian packaging on Ubuntu, relative to &#39;/&#39;. You may wish to examine the contents of the archive first, or possibly chroot a process to run Hockeypuck in a sandboxed environment.
  </p>
  



        
          
  <h1 id="TOC_3.">3. Installing from source</h1>
  
  
  <p>
    You can also build Hockeypuck from source with the Go language tools &#39;go get&#39; and &#39;go install&#39;. This may work on any target build platform supported by Go, though I&#39;ve only tested on the binary tarball platforms above.
  </p>
  

  <h2 id="TOC_3.1.">3.1. Install the Prereqs</h2>
  
  
  <p>
    1. Go language tools: http://golang.org/doc/install
  </p>
  

  
  <p>
    2. MongoDB server: http://www.mongodb.org
  </p>
  


  <h2 id="TOC_3.2.">3.2. Install the Hockeypuck HKP server</h2>
  
  
  <div class="code"><pre>$ go get launchpad.net/hockeypuck/cmd/hockeypuck-mgo

$ go install launchpad.net/hockeypuck/cmd/hockeypuck-mgo</pre></div>
  


  <h2 id="TOC_3.3.">3.3. Install the Hockeypuck loader utility</h2>
  
  
  <p>
    This utility reads public key material stored in RFC 4880


    binary format and adds keys to an HKP server. Useful for loading


    SKS dump files to the Hockeypuck server.
  </p>
  

  
  <div class="code"><pre>$ go get launchpad.net/hockeypuck/cmd/hockeypuck-load

$ go install launchpad.net/hockeypuck/cmd/hockeypuck-load</pre></div>
  



        
          
  <h1 id="TOC_4.">4. Running from source (or a non-standard installation)</h1>
  
  
  <p>
    You may need to specify several options to Hockeypuck in order to run from a non-standard installation layout.
  </p>
  

  
  <div class="code"><pre>-http=&#34;:11371&#34;: http bind address</pre></div>
  

  
  <p>
    The bind address Hockeypuck will listen on. Default is the standard HKP protocol port, 11371
  </p>
  

  
  <div class="code"><pre>-logfile=&#34;&#34;: Logfile (default stderr)</pre></div>
  

  
  <p>
    Optional logfile path.
  </p>
  

  
  <div class="code"><pre>-server=&#34;localhost&#34;: mongo server</pre></div>
  

  
  <p>
    MongoDB server to connect to. An alternate host:port can be specified if necessary.
  </p>
  

  
  <div class="code"><pre>-pks-from=&#34;&#34;: PKS sync mail from: address</pre></div>
  

  
  <p>
    From: address specified in PKS mail.
  </p>
  

  
  <div class="code"><pre>-pks-to=&#34;&#34;: Send keys to these PKS servers</pre></div>
  

  
  <p>
    Downstream PKS servers. Hockeypuck will send new and updated public keys to these addresses.
  </p>
  

  
  <div class="code"><pre>-smtp-id=&#34;&#34;: SMTP Account ID
-smtp-pass=&#34;&#34;: SMTP Account Password
-smtp-user=&#34;&#34;: SMTP Account Username
-smtp-host=&#34;&#34;: SMTP Hostname</pre></div>
  

  
  <p>
    SMTP options for Hockeypuck when sending PKS mail. Be careful when using PKS mail in combination with bulk loading dump files -- you don&#39;t want to flood your downstream PKS hosts!
  </p>
  

  
  <div class="code"><pre>-workers: Number of workers</pre></div>
  

  
  <p>
    Number of concurrent workers which will process client requests. Defaults to the number of cores on the host machine.
  </p>
  

  
  <div class="code"><pre>-www-root=&#34;/var/lib/hockeypuck/www&#34;: Location of static web server files and templates</pre></div>
  

  
  <p>
    Path to static files and templates which are served up by the minimal web interface. Required and must exist (for now).
  </p>
  


        

        <h2>Authors</h2>
        
          <div class="author">
            
  
  <p>
    Casey Marshall
  </p>
  
<p class="link"><a href="mailto:casey.marshall@gmail.com" target="_blank">casey.marshall@gmail.com</a></p>
          </div>
        
      </div>
    </div>
    <script src='/play.js'></script>
  </body>
</html>
